
// --- –í–û–ü–†–û–°–´ ---

const questions = [
  // —Ü–∏–∫–ª 1
  {text:"–Ø –∑–Ω–∞—é, –∫–∞–∫–∏—Ö —Ü–µ–ª–µ–π —Ö–æ—á—É –¥–æ–±–∏—Ç—å—Å—è –≤ —Å–ø–æ—Ä—Ç–µ ‚Äî –±–ª–∏–∂–∞–π—à–∏—Ö –∏ –Ω–∞ –±—É–¥—É—â–µ–µ.", cat:"–¶–µ–ª–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", short:"–¶–µ–ª–∏", reverse:false},
  {text:"–Ø –≤–µ—Ä—é, —á—Ç–æ –º–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –º–æ–µ–≥–æ –≤–∏–¥–∞ —Å–ø–æ—Ä—Ç–∞.", cat:"–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", short:"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", reverse:false},
  {text:"–Ø –±—ã—Å—Ç—Ä–æ –ø—Ä–∏—Ö–æ–∂—É –≤ —Å–µ–±—è –ø–æ—Å–ª–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫.", cat:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", short:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", reverse:false},
  {text:"–Ø –ø—Ä–æ–¥–æ–ª–∂–∞—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –Ω–µ —Ö–æ—á–µ—Ç—Å—è.", cat:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞", short:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è", reverse:false},
  {text:"–Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ —Å–µ–π—á–∞—Å –≤ —Ö–æ—Ä–æ—à–µ–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º–µ.", cat:"–§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞", short:"–§–∏–∑–∏—á–µ—Å–∫–∞—è", reverse:false},
  {text:"–Ø —á–∞—Å—Ç–æ –æ—à–∏–±–∞—é—Å—å –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö –∏–∑-–∑–∞ –≤–æ–ª–Ω–µ–Ω–∏—è.", cat:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å", short:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è", reverse:true},
  {text:"–Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ —Ç—Ä–µ–Ω–µ—Ä –≤–µ—Ä–∏—Ç –≤ –º–µ–Ω—è.", cat:"–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º", short:"–¢—Ä–µ–Ω–µ—Ä", reverse:false},
  {text:"–Ø —á–∞—Å—Ç–æ –¥—É–º–∞—é –æ —Ç–æ–º, —á—Ç–æ –º–æ–≥—É –ø—Ä–æ–∏–≥—Ä–∞—Ç—å.", cat:"–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", short:"–≠–º–æ—Ü–∏–∏", reverse:true},

  // —Ü–∏–∫–ª 2
  {text:"–Ø –ø–æ–Ω–∏–º–∞—é, –∫–∞–∫–∏–µ —à–∞–≥–∏ –º–Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –¥–æ—Å—Ç–∏—á—å —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π.", cat:"–¶–µ–ª–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", short:"–¶–µ–ª–∏", reverse:false},
  {text:"–Ø –¥—É–º–∞—é, —á—Ç–æ —Å–æ–ø–µ—Ä–Ω–∏–∫–∏ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –º–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.", cat:"–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", short:"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", reverse:true},
  {text:"–Ø –∏—Å–ø–æ–ª—å–∑—É—é —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã, —á—Ç–æ–±—ã —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–ª—ã –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.", cat:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", short:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", reverse:false},
  {text:"–Ø –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—é—Å—å —Å–≤–æ–µ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –º–Ω–µ —ç—Ç–æ –¥–∞—ë—Ç—Å—è –ª–µ–≥–∫–æ.", cat:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞", short:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è", reverse:false},
  {text:"–Ø –ª–µ–≥–∫–æ –≤—ã–¥–µ—Ä–∂–∏–≤–∞—é –æ–±—ä—ë–º –∏ —Ç–µ–º–ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞—ë—Ç —Ç—Ä–µ–Ω–µ—Ä.", cat:"–§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞", short:"–§–∏–∑–∏—á–µ—Å–∫–∞—è", reverse:false},
  {text:"–Ø —É–º–µ—é —É—Å–ø–æ–∫–∞–∏–≤–∞—Ç—å —Å–µ–±—è, –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—é –≤–æ–ª–Ω–æ–≤–∞—Ç—å—Å—è.", cat:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å", short:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è", reverse:false},
  {text:"–Ø –º–æ–≥—É –æ—Ç–∫—Ä—ã—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç—å —Ç—Ä–µ–Ω–µ—Ä—É –æ —Å–≤–æ–∏—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç—è—Ö.", cat:"–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º", short:"–¢—Ä–µ–Ω–µ—Ä", reverse:false},
  {text:"–ö–æ–≥–¥–∞ —è –≤–æ–ª–Ω—É—é—Å—å, —É –º–µ–Ω—è –º–æ–∂–µ—Ç —á—Ç–æ-—Ç–æ –∑–∞–±–æ–ª–µ—Ç—å, –∑–∞—Ç–æ—à–Ω–∏—Ç—å –∏–ª–∏ —Å–∫—Ä—É—Ç–∏—Ç—å –∂–∏–≤–æ—Ç.", cat:"–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", short:"–≠–º–æ—Ü–∏–∏", reverse:true},

  // —Ü–∏–∫–ª 3
  {text:"–Ø —Å—Ç–∞–≤–ª—é —Å–µ–±–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∏ –¥–æ—Å—Ç–∏–∂–∏–º—ã–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏.", cat:"–¶–µ–ª–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", short:"–¶–µ–ª–∏", reverse:false},
  {text:"–Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ –ø—Ä–æ–∏–≥—Ä—ã—à ‚Äî —ç—Ç–æ –æ–ø—ã—Ç –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—å –ª—É—á—à–µ.", cat:"–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", short:"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", reverse:false},
  {text:"–Ø —É–º–µ—é —Å–æ–±—Ä–∞—Ç—å—Å—è –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è–º–∏.", cat:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", short:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", reverse:false},
  {text:"–Ø —Ö–æ—á—É —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ –≤ —Å–ø–æ—Ä—Ç–µ.", cat:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞", short:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è", reverse:false},
  {text:"–Ø —Ä–µ–¥–∫–æ —Ç—Ä–∞–≤–º–∏—Ä—É—é—Å—å –∏ —Ö–æ—Ä–æ—à–æ –≤—ã–¥–µ—Ä–∂–∏–≤–∞—é –Ω–∞–≥—Ä—É–∑–∫–∏.", cat:"–§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞", short:"–§–∏–∑–∏—á–µ—Å–∫–∞—è", reverse:false},
  {text:"–Ø —á–∞—Å—Ç–æ –ø–ª–æ—Ö–æ —Å–ø–ª—é –ø–µ—Ä–µ–¥ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è–º–∏.", cat:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å", short:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è", reverse:true},
  {text:"–ú–µ–∂–¥—É –º–Ω–æ–π –∏ —Ç—Ä–µ–Ω–µ—Ä–æ–º –µ—Å—Ç—å –¥–æ–≤–µ—Ä–∏–µ –∏ —É–≤–∞–∂–µ–Ω–∏–µ.", cat:"–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º", short:"–¢—Ä–µ–Ω–µ—Ä", reverse:false},
  {text:"–ú–Ω–µ –º–µ—à–∞—é—Ç —Å—Ç—Ä–∞—Ö–∏ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ –º–æ–≥—É –æ—à–∏–±–∏—Ç—å—Å—è, –ø–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–≤–º—É –∏–ª–∏ –ø–æ–¥–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É.", cat:"–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", short:"–≠–º–æ—Ü–∏–∏", reverse:true},

  // —Ü–∏–∫–ª 4
  {text:"–Ø —Å–ª–µ–∂—É –∑–∞ —Å–≤–æ–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∏ –º–µ–Ω—è—é –ø–ª–∞–Ω, –µ—Å–ª–∏ —ç—Ç–æ –Ω—É–∂–Ω–æ.", cat:"–¶–µ–ª–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", short:"–¶–µ–ª–∏", reverse:false},
  {text:"–Ø –¥—É–º–∞—é, —á—Ç–æ –µ—Å–ª–∏ –ø—Ä–æ–∏–≥—Ä–∞—é, —Ç–æ –º–Ω–µ –Ω–µ –∑–∞—Ö–æ—á–µ—Ç—Å—è –ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞.", cat:"–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", short:"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", reverse:true},
  {text:"–Ø —á–∞—Å—Ç–æ —É—Å—Ç–∞—é, –Ω–∞–ø—Ä—è–≥–∞—é—Å—å –∏–ª–∏ ¬´–ø–µ—Ä–µ–≥–æ—Ä–∞—é¬ª –µ—â—ë –¥–æ —Å—Ç–∞—Ä—Ç–∞.", cat:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", short:"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", reverse:true},
  {text:"–ò–Ω–æ–≥–¥–∞ —è –¥—É–º–∞—é –æ —Ç–æ–º, —á—Ç–æ–±—ã –±—Ä–æ—Å–∏—Ç—å —Å–ø–æ—Ä—Ç.", cat:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞", short:"–ú–æ—Ç–∏–≤–∞—Ü–∏—è", reverse:true},
  {text:"–ú–Ω–µ —á–∞—Å—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å–∏–ª, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –¥–æ –∫–æ–Ω—Ü–∞.", cat:"–§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞", short:"–§–∏–∑–∏—á–µ—Å–∫–∞—è", reverse:true},
  {text:"–ù–∞ –≤–∞–∂–Ω—ã—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö —è —Å–∏–ª—å–Ω–µ–µ —Ç–µ—Ä—è—é—Å—å –∏ —Ö—É–∂–µ —Å–ø—Ä–∞–≤–ª—è—é—Å—å —Å —Å–æ–±–æ–π.", cat:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å", short:"–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è", reverse:true},
  {text:"–Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ —Ç—Ä–µ–Ω–µ—Ä —á–∞—Å—Ç–æ –º–Ω–æ–π –Ω–µ–¥–æ–≤–æ–ª–µ–Ω.", cat:"–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º", short:"–¢—Ä–µ–Ω–µ—Ä", reverse:true},
  {text:"–Ø —á–∞—Å—Ç–æ —Ä–∞–∑–¥—Ä–∞–∂–∞—é—Å—å –∏–ª–∏ –∑–ª—é—Å—å, –∏ —ç—Ç–æ –º–µ—à–∞–µ—Ç –º–Ω–µ –≤ —Å–ø–æ—Ä—Ç–µ.", cat:"–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", short:"–≠–º–æ—Ü–∏–∏", reverse:true},
];

let indexQ = 0;
let answers = [];

function startTest(){
  document.getElementById("welcome").classList.add("hidden");
  document.getElementById("test").classList.remove("hidden");
  document.getElementById("slider").value = 5;
  updateValue();
  loadQuestion();
}

function loadQuestion(){
  const q = questions[indexQ];
  document.getElementById("counter").innerText = `–í–æ–ø—Ä–æ—Å ${indexQ+1} –∏–∑ ${questions.length}`;
  document.getElementById("question").innerText = q.text;
  document.getElementById("slider").value = 5;
  updateValue();
  document.getElementById("progress-bar").style.width =
    (indexQ / questions.length * 100) + "%";
}

function updateValue(){
  const v = Number(document.getElementById("slider").value);
  document.getElementById("value").innerText = "–û—Ü–µ–Ω–∫–∞: " + v;
}

function nextQuestion(){
  const raw = Number(document.getElementById("slider").value);
  const q = questions[indexQ];
  const score = q.reverse ? (11 - raw) : raw;
  answers.push({cat:q.cat, short:q.short, score});

  indexQ++;
  if(indexQ >= questions.length){
    showResults();
  } else {
    loadQuestion();
  }
}

function showResults(){
  document.getElementById("test").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");

  const grouped = {};
  answers.forEach(a=>{
    if(!grouped[a.cat]) grouped[a.cat] = [];
    grouped[a.cat].push(a.score);
  });

  const fullCats = [
    "–¶–µ–ª–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å",
    "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",
    "–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞",
    "–§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
    "–°–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å",
    "–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º",
    "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å"
  ];

  const shortCats = ["–¶–µ–ª–∏","–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å","–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ","–ú–æ—Ç–∏–≤–∞—Ü–∏—è","–§–∏–∑–∏—á–µ—Å–∫–∞—è","–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è","–¢—Ä–µ–Ω–µ—Ä","–≠–º–æ—Ü–∏–∏"];

  const data = [];
  const percentsByCat = {};

  fullCats.forEach(cat=>{
    const arr = grouped[cat] || [0,0,0,0];
    const avg = arr.reduce((s,v)=>s+v,0) / arr.length;
    const percent = Math.round(avg/10*100);
    data.push(percent);
    percentsByCat[cat] = percent;
  });

  const overall = Math.round(data.reduce((s,v)=>s+v,0)/data.length);
  document.getElementById("overall-percent").innerText = overall + "%";
  document.getElementById("overall-label").innerText = getOverallLabel(overall);
  document.getElementById("overall-text").innerText = getOverallText(overall);

  renderWeakAreas(percentsByCat);
  renderChart(shortCats, data);
  renderScaleDescriptions(percentsByCat);
  setupSmartButton(percentsByCat, overall);
}

function getOverallLabel(p){
  if(p < 40) return "–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏";
  if(p < 70) return "–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏";
  return "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏";
}

function getOverallText(p){
  if(p < 40) {
    return "–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –æ—Ç—Ä–∞–∂–∞–µ—Ç, —á—Ç–æ —Ç–µ–∫—É—â–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–µ–Ω–∞, –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç. –ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ, –≤–∞–∂–Ω–æ —É–¥–µ–ª–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. –†–∞–±–æ—Ç–∞ —Å–æ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Ç–æ–º, —á—Ç–æ —Å–µ–π—á–∞—Å –º–µ—à–∞–µ—Ç, –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–æ—Å—Ç –∏ –¥–∞–≤–∞—Ç—å –±–æ–ª—å—à–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è—Ö. ";
  } else if(p < 70) {
    return "–£ –≤–∞—Å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∞ —Ö–æ—Ä–æ—à–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞, –∏ –º–Ω–æ–≥–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–∞–≤—ã–∫–∏ —É–∂–µ –Ω–∞–¥—ë–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤–∞—à —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å. –ü—Ä–∏ —ç—Ç–æ–º –µ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è, —á—Ç–æ–±—ã –æ–±—â–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ç–∞–ª–∏ –≤—ã—à–µ. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –≤ —Å–ø–æ—Ä—Ç–µ –¥–∞–ª—å—à–µ, —Ä–∞–±–æ—Ç–∞ —Å —ç—Ç–∏–º–∏ —Å—Ñ–µ—Ä–∞–º–∏ —Å—Ç–∞–Ω–µ—Ç –≤–∞–∂–Ω—ã–º —à–∞–≥–æ–º. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∞ –ø–æ–º–æ–∂–µ—Ç –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –∏ —É–≤–µ—Ä–µ–Ω–Ω—ã—Ö –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π.";
  } else {
    return "–í–∞—à –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. –¢–æ—á–µ—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ–∑–≤–æ–ª–∏—Ç —É—Å–∏–ª–∏–≤–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –ø–æ–≤—ã—à–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.";
  }
}

// –°–ª–∞–±—ã–µ –∑–æ–Ω—ã (<=53% –≤—Å–µ)
function renderWeakAreas(percentsByCat){
  const items = Object.keys(percentsByCat).map(cat => ({
    name: cat,
    percent: percentsByCat[cat]
  }));

  const weak = items
    .filter(i => i.percent <= 53)
    .sort((a,b)=>a.percent - b.percent);

  const block = document.getElementById("weak-areas");

  if (!weak.length){
    block.innerText = "–°–µ–π—á–∞—Å –Ω–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–Ω–æ —Å–ª–∞–±—ã—Ö —Å—Ñ–µ—Ä ‚Äî –ø—Ä–æ—Ñ–∏–ª—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω.";
    return;
  }

  let html = "<b>–ó–æ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç —É—Å–∏–ª–∏—Ç—å:</b><br>";
  weak.forEach(item=>{
    html += `${item.name} (${item.percent}%)<br>`;
  });
  block.innerHTML = html;
}

// –†–µ–Ω–¥–µ—Ä —Ä–∞–¥–∞—Ä–∞ —Å –º—è–≥–∫–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π
function renderChart(shortCats, data){
  const ctx = document.getElementById("chart");
  new Chart(ctx, {
    type: "radar",
    data: {
      labels: shortCats,
      datasets: [{
        label: "",
        data: data,
        backgroundColor: "rgba(80,150,255,0.24)",
        borderColor: "rgba(163,191,255,0.95)",
        borderWidth: 2,
        pointBackgroundColor: "#ffffff",
        pointBorderColor: "rgba(15,23,42,1)",
        pointRadius: 4,
        pointHoverRadius: 6
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      animation: {
        duration: 900,
        easing: "easeOutCubic"
      },
      plugins: {
        legend: { display:false }
      },
      scales: {
        r: {
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: { display:false },
          grid: { color:"rgba(148,163,184,0.35)" },
          angleLines: { color:"rgba(148,163,184,0.35)" },
          pointLabels: {
            font: { size: 13 },
            color: "#e5e7eb"
          }
        }
      },
      elements: {
        line: {
          tension: 0.18,
          borderWidth: 2
        },
        point: {
          radius: 4,
          hoverRadius: 6,
          hitRadius: 6,
          borderWidth: 2
        }
      }
    }
  });
}

// –û–ø–∏—Å–∞–Ω–∏—è –ø–æ —à–∫–∞–ª–∞–º
function renderScaleDescriptions(percentsByCat){
  const container = document.getElementById("scales-descriptions");
  container.innerHTML = "<h3>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ –∫–∞–∂–¥–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É</h3>";
  Object.keys(percentsByCat).forEach(cat=>{
    const p = percentsByCat[cat];
    container.innerHTML += getScaleDescription(cat, p);
  });
}

function getScaleDescription(category, percent) {
    let level = "";
    let text = "";

    if (percent <= 24) level = "–û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å";
    else if (percent <= 49) level = "–ù–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ";
    else if (percent <= 74) level = "–•–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å";
    else level = "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å";

    switch (category) {

        case "–¶–µ–ª–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ":
            if (percent <= 24) {
                text = "–°–µ–π—á–∞—Å –≤–∞–º –º–æ–∂–µ—Ç –Ω–µ —Ö–≤–∞—Ç–∞—Ç—å —è—Å–Ω–æ—Å—Ç–∏ –≤ —Ü–µ–ª—è—Ö –∏ –æ–±—â–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –∏–∑-–∑–∞ —á–µ–≥–æ —Å–ª–æ–∂–Ω–µ–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ. –ß—ë—Ç–∫–∏–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã –ø–æ–º–æ–≥–∞—é—Ç –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–ø–æ–∫–æ–π–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç —Ä–∞–∑–≤–∏—Ç–∏—è, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ —Ü–µ–ª–µ–π –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —Ö–æ—Ä–æ—à–∏–º —à–∞–≥–æ–º –≤–ø–µ—Ä—ë–¥.";
            } else if (percent <= 49) {
                text = "–¶–µ–ª–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä—É—é—Ç—Å—è –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —É–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –∏ —Å–Ω–∏–∂–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –∏–ª–∏ –Ω–∞—Ä—É—à–∞—Ç—å—Å—è –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞, –∏–∑-–∑–∞ —á–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–ª–æ—Ö–æ –æ—â—É—â–∞–µ—Ç—Å—è. –ß—ë—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ —à–∞–≥–∏ –ø–æ–º–æ–≥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—â—É—â–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –¥–∞—Ç—å —Å–¥–µ–ª–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–æ–π—á–∏–≤—ã–º –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º.";
            } else if (percent <= 74) {
                text = "–£ –≤–∞—Å –µ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —à–∞–≥–æ–≤ –∏ —Å–ø–æ—Å–æ–±–æ–≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ü–µ–ª–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ–º—É –Ω–µ –≤—Å–µ–≥–¥–∞ —Ö–≤–∞—Ç–∞–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ ‚Äî –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Ç–µ—Ä—è–µ—Ç—Å—è –æ—â—É—â–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∏ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏.";
            } else {
                text = "–¶–µ–ª–∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã —á—ë—Ç–∫–æ, –∏ –≤—ã —Ö–æ—Ä–æ—à–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ, –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥–≤–∏–∂–µ—Ç–µ—Å—å –∏ –∫–∞–∫–∏–µ —à–∞–≥–∏ –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω—ã. –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ, –ø–æ–∑–≤–æ–ª—è—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–æ–±—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –∏ —Ñ–æ–∫—É—Å–∞.";
            }
            break;

        case "–°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å":
            if (percent <= 24) {
                text = "–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–≤–æ–∏—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö –∑–∞–º–µ—Ç–Ω–æ —Å–Ω–∏–∂–µ–Ω–∞, –∏ –≤–ª–∏—è–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –æ—â—É—â–∞–µ—Ç—Å—è —Å–∏–ª—å–Ω–µ–µ, —á–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –æ–ø–æ—Ä–∞. –û—à–∏–±–∫–∏ –∏ –Ω–µ—É–¥–∞—á–∏ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Ç—è–∂–µ–ª–æ, —á—Ç–æ –æ—Å–ª–∞–±–ª—è–µ—Ç –∂–µ–ª–∞–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä—ë–¥.";
            } else if (percent <= 49) {
                text = "–ë—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ —Å–≤–æ–∏ —Å–∏–ª—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è. –û—à–∏–±–∫–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Å–æ–º–Ω–µ–Ω–∏—è, –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π ‚Äî —Ç–æ —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è, —Ç–æ —Ä–µ–∑–∫–æ —Å–Ω–∏–∂–∞–µ—Ç—Å—è. ";
            } else if (percent <= 74) {
                text = "–£ –≤–∞—Å –µ—Å—Ç—å —Ö–æ—Ä–æ—à–∞—è –æ—Å–Ω–æ–≤–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–æ –≤ –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –æ–Ω–∞ –º–æ–∂–µ—Ç –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ—Å–µ–¥–∞—Ç—å. –í–æ–∑–Ω–∏–∫–∞—é—Ç –º–æ–º–µ–Ω—Ç—ã, –∫–æ–≥–¥–∞ –≤–ª–∏—è–Ω–∏–µ —Å–æ–ø–µ—Ä–Ω–∏–∫–æ–≤ –∏–ª–∏ —Å—Ç—Ä–∞—Ö –æ—à–∏–±–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Å–ª–∞–±–ª—è—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å. –£—Ç–æ—á–Ω–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ–ø–æ—Ä –∏ —Ä–∞–±–æ—Ç–∞ —Å –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ–º –Ω–µ—É–¥–∞—á –ø–æ–º–æ–≥—É—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –±–æ–ª–µ–µ —Ä–æ–≤–Ω–æ.";
            } else {
                text = "–í—ã —É–≤–µ—Ä–µ–Ω–Ω–æ –æ–ø–∏—Ä–∞–µ—Ç–µ—Å—å –Ω–∞ —Å–≤–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–∏—Ç—É–∞—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å. –í—ã —É–º–µ–µ—Ç–µ –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø–æ–ª—å–∑—É –¥–∞–∂–µ –∏–∑ –Ω–µ—É–¥–∞—á –∏ –º–µ–Ω—å—à–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã –¥–∞–≤–ª–µ–Ω–∏—é —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Å–æ–ø–µ—Ä–Ω–∏–∫–æ–≤.";
            }
            break;

        case "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ":
            if (percent <= 24) {
                text = "–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –ø–µ—Ä–µ—É—Ç–æ–º–ª–µ–Ω–∏—è –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è: –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –æ—Ä–≥–∞–Ω–∏–∑–º —É—Å–ø–µ–≤–∞–µ—Ç –µ—ë –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞–∑–≤–∏—Ç—ã–µ –Ω–∞–≤—ã–∫–∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è –∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–µ–ª–∞—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–º –∏ –∑–∞—Ç—Ä—É–¥–Ω—è—é—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å—Ç—Ä–µ—Å—Å–æ–≤—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤.";
            } else if (percent <= 49) {
                text = "–í–æ–∑–º–æ–∂–Ω—ã —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø–æ—Å–ª–µ –Ω–∞–≥—Ä—É–∑–æ–∫: –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è, –∞ —ç–Ω–µ—Ä–≥–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ. –ò–Ω–æ–≥–¥–∞ –±—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏–ª–∏, –Ω–∞–æ–±–æ—Ä–æ—Ç, —Å–æ–±—Ä–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º. –ë–æ–ª–µ–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π –∏ –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –ø–æ–º–æ–∂–µ—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–æ–≤–Ω–µ–µ –∏ —É–º–µ–Ω—å—à–∏—Ç—å –ø–µ—Ä–µ–ø–∞–¥—ã.";
            } else if (percent <= 74) {
                text = "–ù–∞–≤—ã–∫–∏ —Ä–µ–ª–∞–∫—Å–∞—Ü–∏–∏ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤ —Ü–µ–ª–æ–º —Ä–∞–±–æ—Ç–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –Ω–æ –ø–æ–¥ —Å–∏–ª—å–Ω—ã–º —Å—Ç—Ä–µ—Å—Å–æ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∏–≤—ã—á–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –º–æ–∂–µ—Ç —Å–Ω–∏–∂–∞—Ç—å—Å—è.";
            } else {
                text = "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã—Å—Ç—Ä–æ–µ–Ω–æ —Ö–æ—Ä–æ—à–æ: –≤—ã —É–º–µ–µ—Ç–µ —Ä–∞—Å—Å–ª–∞–±–ª—è—Ç—å—Å—è, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç. –£—Ä–æ–≤–µ–Ω—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º, –∞ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –¥–∞–∂–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ. –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —ç—Ç–æ—Ç —É—Ä–æ–≤–µ–Ω—å —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –≤—ã–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞—Å—Ç—É—â–∏–π —Ç–µ–º–ø –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.";
            }
            break;

        case "–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞":
            if (percent <= 24) {
                text = "–ú–æ—Ç–∏–≤–∞—Ü–∏—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞: –∂–µ–ª–∞–Ω–∏–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥ –±—ã—Å—Ç—Ä–æ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π, –∞ –º—ã—Å–ª–∏ –æ —Ç–æ–º, —á—Ç–æ–±—ã –≤—Å—ë –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å, –≤–æ–∑–Ω–∏–∫–∞—é—Ç —á–∞—â–µ, —á–µ–º —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã. –†–µ–∂–∏–º –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å —Ç—Ä—É–¥–æ–º, –∏ —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –æ—â—É—â–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è. –°–µ–π—á–∞—Å –≤–∞–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤—è–∑—å —Å —Ç–µ–º, —Ä–∞–¥–∏ —á–µ–≥–æ –≤—ã —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ—Å—å, –∏ –≤–µ—Ä–Ω—É—Ç—å —á—É–≤—Å—Ç–≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–º—ã—Å–ª–∞.";
            } else if (percent <= 49) {
                text = "–ú–æ—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –Ω–æ —á–∞—Å—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è. –°–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º—É —É–¥–∞—ë—Ç—Å—è –Ω–µ –≤—Å–µ–≥–¥–∞, –∏ –≤ –ø–µ—Ä–∏–æ–¥—ã —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∂–µ–ª–∞–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–∏—Ç—å –∏–ª–∏ —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É. –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å–µ–±–µ –æ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ü–µ–ª—è—Ö –ø–æ–º–æ–≥—É—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–≤–Ω–µ–µ.";
            } else if (percent <= 74) {
                text = "–ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –≤ —Ü–µ–ª–æ–º –≤—ã—Å—Ç—Ä–æ–µ–Ω—ã: –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —Ä–∞–¥–∏ —á–µ–≥–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç–µ—Å—å, –∏ —Å–ø–æ—Å–æ–±–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–µ–∂–∏–º. –û–¥–Ω–∞–∫–æ –≤ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –≤–æ–∑–º–æ–∂–Ω—ã –∫—Ä–∞—Ç–∫–∏–µ –∫–æ–ª–µ–±–∞–Ω–∏—è, –∫–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è. –ë–æ–ª–µ–µ —á—ë—Ç–∫–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ –∏ —Å–ø–æ—Å–æ–±—ã —Å–∞–º–æ–ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–º–æ–≥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ —Å–ª–æ–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.";
            } else {
                text = "–ú–æ—Ç–∏–≤–∞—Ü–∏—è —É—Å—Ç–æ–π—á–∏–≤–∞, –∏ –≤—ã —Å–ø–æ—Å–æ–±–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º—É –¥–∞–∂–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ. –ñ–µ–ª–∞–Ω–∏–µ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –ø–æ–¥–∫—Ä–µ–ø–ª—è–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É, –∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –ø–æ–º–æ–≥–∞–µ—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–∏–≤—ã—á–µ–∫ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∏ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥.";
            }
            break;

        case "–§–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞":
            if (percent <= 24) {
                text = "–§–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—â—É—â–∞–µ—Ç—Å—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º: —Å–∏–ª—ã –º–æ–≥—É—Ç –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è —Ä–∞–Ω—å—à–µ, —á–µ–º –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è, –∞ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –æ—Å—Ç–∞—ë—Ç—Å—è —Ç—è–∂—ë–ª—ã–º. –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è —É—Ç–æ–º–ª—è–µ–º–æ—Å—Ç—å –∏ —Ä–∏—Å–∫ –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫ —Å–Ω–∏–∂–∞—é—Ç –æ—â—É—â–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º. –°–µ–π—á–∞—Å –≤–∞–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å —Ä–µ—Å—É—Ä—Å–∞ –∏ –¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–º—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–±—Ä–∞—Ç—å—Å—è.";
            } else if (percent <= 49) {
                text = "–§–æ—Ä–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Å–ø–æ–∫–æ–π–Ω–æ: –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–Ω–∏ —ç–Ω–µ—Ä–≥–∏—è –ø–∞–¥–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –Ω—É–∂–Ω–æ, –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ. –ù–∞–≥—Ä—É–∑–∫–∞ –æ—â—É—â–∞–µ—Ç—Å—è –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ, –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å–∏–ª –¥–æ–≤–µ—Å—Ç–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –¥–æ –∫–æ–Ω—Ü–∞. ";
            } else if (percent <= 74) {
                text = "–§–∏–∑–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞ –≤ —Ü–µ–ª–æ–º —Ö–æ—Ä–æ—à–∞—è: –≤—ã —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å —Å –æ–±—ä—ë–º–æ–º –∏ —Ç–µ–º–ø–æ–º, —Ö–æ—Ç—è –≤ –ø–µ—Ä–∏–æ–¥—ã –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –≤–æ–∑–º–æ–∂–Ω—ã —ç–ø–∏–∑–æ–¥—ã —É—Ç–æ–º–ª–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫. –í —Ç–∞–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã —Å–Ω–∏–∂–∞–µ—Ç—Å—è –æ—â—É—â–µ–Ω–∏–µ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏. –¢–æ—á–µ—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–µ–∂–∏–º–æ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–æ–≤–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Ä–µ—Å—É—Ä—Å–∞.";
            } else {
                text = "–§–æ—Ä–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è, —Ä–µ—Å—É—Ä—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π, –∏ –Ω–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è —Ö–æ—Ä–æ—à–æ. –í—ã–¥–µ—Ä–∂–∏–≤–∞–Ω–∏–µ —Ç–µ–º–ø–∞ –∏ –æ–±—ä—ë–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–∏–º—ã—Ö —Ç—Ä—É–¥–Ω–æ—Å—Ç–µ–π, –∞ —Ä–∏—Å–∫ –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∏–∑–∫–∏–º. ";
            }
            break;

        case "–°–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å":
            if (percent <= 24) {
                text = "–°—Ç—Ä–∞—Ö –æ—à–∏–±–æ–∫ –∏ —Å–∏–ª—å–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –º–µ—à–∞—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞. –í–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–Ω–æ –Ω–∞—Ä—É—à–∞–µ—Ç —Ç–µ—Ö–Ω–∏–∫—É –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π, –∏–∑-–∑–∞ —á–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è –ø–∞–¥–∞–µ—Ç –∏–º–µ–Ω–Ω–æ –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å. –ü–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º, –∞ —Å—Ç—Ä–µ—Å—Å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ. .";
            } else if (percent <= 49) {
                text = "–í–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–∞–º–∏ –æ—â—É—â–∞–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–∏–ª—å–Ω–æ, –∏ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å –Ω–∏–º –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–µ –≤—Å–µ–≥–¥–∞. –í–∞–∂–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è –∑–∞–º–µ—Ç–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ –æ—à–∏–±–æ–∫. –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è–º–∏ –±—ã–≤–∞–µ—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º ‚Äî —Å–æ–Ω, —ç–Ω–µ—Ä–≥–∏—è –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –º–æ–≥—É—Ç ¬´–ø–ª–∞–≤–∞—Ç—å¬ª. –†–∞–±–æ—Ç–∞ —Å –ø—Ä–µ–¥—Å—Ç–∞—Ä–æ–≤—ã–º–∏ —Ä–∏—Ç—É–∞–ª–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤–æ–ª–Ω–µ–Ω–∏–µ–º –ø–æ–º–æ–∂–µ—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–æ–≤–Ω–µ–µ.";
            } else if (percent <= 74) {
                text = "–£—Ä–æ–≤–µ–Ω—å –≤–æ–ª–Ω–µ–Ω–∏—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π, –Ω–æ –≤ –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã—Ö –∏–ª–∏ –∑–Ω–∞—á–∏–º—ã—Ö —Å—Ç–∞—Ä—Ç–∞—Ö –≤–æ–∑–º–æ–∂–Ω—ã –∫–æ–ª–µ–±–∞–Ω–∏—è. –ò–Ω–æ–≥–¥–∞ –≤–æ–ª–Ω–µ–Ω–∏–µ —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π.";
            } else {
                text = "–°–∏–ª—å–Ω–∞—è —Å–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: —Å—Ç—Ä–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ä–µ—Å—É—Ä—Å, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ñ–æ–∫—É—Å –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. –í—ã —É–≤–µ—Ä–µ–Ω–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –∞ –≤–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Ä–∞–±–æ—á–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –∏ –Ω–µ —Å–Ω–∏–∂–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π. –£–º–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –≤ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∏ –≤—ã–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—ã—Å–æ–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ.";
            }
            break;

        case "–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º":
            if (percent <= 24) {
                text = "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–∞—è: –º–Ω–æ–≥–æ –Ω–µ–¥–æ–≤–µ—Ä–∏—è, –≤–æ–∑–º–æ–∂–Ω—ã –∏–∑–±–µ–≥–∞–Ω–∏–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–π –∏ —Å—Ç—Ä–∞—Ö –∫—Ä–∏—Ç–∏–∫–∏. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –∏ –º–µ—à–∞–µ—Ç –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –í —Ç–∞–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö —Å–ª–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç—å –æ —Å–≤–æ–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö, —á—Ç–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏..";
            } else if (percent <= 49) {
                text = "–û—Ç–Ω–æ—à–µ–Ω–∏—è —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ: –≤ –æ–¥–Ω–∏—Ö –º–æ–º–µ–Ω—Ç–∞—Ö –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å–ø–æ–∫–æ–π–Ω–æ, –≤ –¥—Ä—É–≥–∏—Ö –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏–ª–∏ –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –≥–æ–≤–æ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ. –ò–∑-–∑–∞ —ç—Ç–æ–π –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–æ–≤–µ—Ä–∏–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ, –∞ –≤–∞–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ—Ä–æ–π –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ –æ–∑–≤—É—á–µ–Ω–Ω—ã–º–∏. ";
            } else if (percent <= 74) {
                text = "–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤ —Ü–µ–ª–æ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–µ, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ–µ. –í—ã —É–≤–∞–∂–∞–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –æ–¥–Ω–∞–∫–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤—Å—ë –µ—â—ë –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –∏–ª–∏ –∂–µ–ª–∞–Ω–∏–µ ¬´–ø–æ–¥–æ–±—Ä–∞—Ç—å —Å–ª–æ–≤–∞¬ª. –≠—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç —Ä–∞–±–æ—Ç–µ, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≥–ª—É–±–∏–Ω—É –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏. ";
            } else {
                text = "–ö–æ–Ω—Ç–∞–∫—Ç —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º –≤—ã—Å—Ç—Ä–æ–µ–Ω —É–≤–µ—Ä–µ–Ω–Ω–æ: –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–æ–≤–µ—Ä–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —è—Å–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è. –í—ã –º–æ–∂–µ—Ç–µ –æ–±—Å—É–∂–¥–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –±–µ–∑ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è, –∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Å–ø–æ–∫–æ–π–Ω–æ –∏ –ø–æ –¥–µ–ª—É. –¢–∞–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –Ω–∞–¥—ë–∂–Ω—É—é –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –æ–ø–æ—Ä—É –∏ —É—Å–∏–ª–∏–≤–∞—é—Ç –≤–∞—à–µ —Ä–∞–∑–≤–∏—Ç–∏–µ.";
            }
            break;

        case "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å":
            if (percent <= 24) {
                text = "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ —Å–∏–ª—å–Ω—ã–µ –∏ –ø–ª–æ—Ö–æ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ: —á–∞—Å—Ç—ã–µ —Å—Ç—Ä–∞—Ö–∏, —Å–æ–º–Ω–µ–Ω–∏—è –∏ —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–º–µ—Ç–Ω–æ —Å–Ω–∏–∂–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–π. –ü–æ–¥ –¥–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—ã—Å—Ç—Ä–æ –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è, –∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –∏ –º–µ—à–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ñ–æ–∫—É—Å. –í —Ç–∞–∫–æ–º —Ä–µ–∂–∏–º–µ —Å–ª–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å.";
            } else if (percent <= 49) {
                text = "–≠–º–æ—Ü–∏–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –≤—ã—Ö–æ–¥—è—Ç –∏–∑-–ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è: –≤–æ–∑–Ω–∏–∫–∞—é—Ç –≤—Å–ø–ª–µ—Å–∫–∏ —Ç—Ä–µ–≤–æ–≥–∏, —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–º–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏ –æ–±—â–µ–º —Ö–æ–¥–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞. –í –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —ç—Ç–æ –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –∏ –Ω–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –æ–∫—Ä—É–∂–∞—é—â–∏–º–∏. –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏—é –∏ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏..";
            } else if (percent <= 74) {
                text = "–•–æ—Ä–æ—à–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–µ—Å—Å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –Ω–æ —á–∞—â–µ –≤—Å–µ–≥–æ –æ—Å—Ç–∞—é—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–º–∏. –í –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤–æ–∑–º–æ–∂–Ω—ã –∫–æ–ª–µ–±–∞–Ω–∏—è ‚Äî –ª—ë–≥–∫–∞—è —Ç—Ä–µ–≤–æ–≥–∞ –∏–ª–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤–ª–∏—è—é—Ç –Ω–∞ —Ñ–æ–∫—É—Å, –Ω–æ –≤—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. –†–∞–±–æ—Ç–∞ —Å —Ä–µ–≥—É–ª—è—Ü–∏–µ–π –ø–æ–º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω –µ—â—ë —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ.";
            } else {
                text = "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç–æ–π—á–∏–≤–æ–µ: —Ä–µ–∞–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ä–∞–±–æ—á–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ, –∞ —Å—Ç—Ä–µ—Å—Å –Ω–µ –≤—ã–≤–æ–¥–∏—Ç –≤–∞—Å –∏–∑ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è. –í—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ —è—Å–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –¥–∞–∂–µ –ø–æ–¥ –¥–∞–≤–ª–µ–Ω–∏–µ–º. –¢–∞–∫–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π –∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –≤ –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–∞—Ö.";
            }
            break;
    }

    return `
        <div class="ios-card">
            <b>${category}</b><br>
            <span style="color:#9db7ff;">–£—Ä–æ–≤–µ–Ω—å: ${level} (${percent}%)</span>
            <p style="margin-top:6px;color:#dfe7ff;">${text}</p>
        </div>
    `;
}

// ====== PDF –°–ù–ò–ú–û–ö –ò–¢–û–ì–û–í–û–ì–û –≠–ö–†–ê–ù–ê ======
function captureResultAsImage(callback){
  const resultEl = document.querySelector("#result");
  if (!resultEl || !html2canvas) {
    alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞.");
    return;
  }
  html2canvas(resultEl, { scale: 2 }).then(canvas => {
    const imgData = canvas.toDataURL("image/png");
    callback(imgData);
  });
}

// ====== –ú–û–î–ê–õ–ö–ê –í–´–ë–û–†–ê –°–ü–û–°–û–ë–ê –î–û–°–¢–ê–í–ö–ò ======
function openDeliveryModal(){
  document.getElementById("modal-overlay").classList.remove("hidden");
  document.getElementById("delivery-modal").classList.remove("hidden");
}

function closeDeliveryModal(){
  document.getElementById("modal-overlay").classList.add("hidden");
  document.getElementById("delivery-modal").classList.add("hidden");
}

function toggleDeliveryFields(){
  const radios = document.querySelectorAll("input[name='delivery']");
  let mode = "telegram";
  radios.forEach(r=>{ if(r.checked) mode = r.value; });
  if(mode === "telegram"){
    document.getElementById("telegram-field").classList.remove("hidden");
    document.getElementById("email-field").classList.add("hidden");
  } else {
    document.getElementById("telegram-field").classList.add("hidden");
    document.getElementById("email-field").classList.remove("hidden");
  }
}

function submitDelivery(){
  const radios = document.querySelectorAll("input[name='delivery']");
  let mode = "telegram";
  radios.forEach(r=>{ if(r.checked) mode = r.value; });

  if(mode === "telegram"){
    const username = document.getElementById("tg-username").value.trim();
    if(!username){
      alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –≤–∞—à @username –≤ Telegram.");
      return;
    }
    // –ó–∞–≥–ª—É—à–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
    captureResultAsImage((imgData)=>{
      console.log("–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –±—ã PDF/–∫–∞—Ä—Ç–∏–Ω–∫—É –≤ Telegram –±–æ—Ç—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:", username);
      alert("–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ PDF –≤ Telegram-–±–æ—Ç–∞ –¥–ª—è @" + username);
      closeDeliveryModal();
    });
  } else {
    const email = document.getElementById("email-input").value.trim();
    if(!email){
      alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ e-mail.");
      return;
    }
    // –ó–∞–≥–ª—É—à–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ email
    captureResultAsImage((imgData)=>{
      console.log("–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –±—ã PDF/–∫–∞—Ä—Ç–∏–Ω–∫—É –Ω–∞ e-mail:", email);
      alert("–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ PDF-–æ—Ç—á—ë—Ç–∞ –Ω–∞ " + email);
      closeDeliveryModal();
    });
  }
}


// ====== –ö–ù–û–ü–ö–ê ¬´–ü–û–õ–ï–ó–ù–´–ï –ú–ê–¢–ï–†–ò–ê–õ–´¬ª (–∑–∞–≥–ª—É—à–∫–∞) ======
function openMaterials(){
  alert("–†–∞–∑–¥–µ–ª —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ. –í—ã —Å–º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å—Ç–∞—Ç—å—è–º –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º –∏–∑ —ç—Ç–æ–≥–æ –æ–∫–Ω–∞. üíô");
}

// ====== –£–ú–ù–ê–Ø –ö–ù–û–ü–ö–ê –ü–û–°–õ–ï –†–ï–ó–£–õ–¨–¢–ê–¢–ê ======
function setupSmartButton(percentsByCat, overall){
  const btn = document.getElementById("smart-btn");
  if (!btn) return;

  const items = Object.keys(percentsByCat).map(cat => ({
    name: cat,
    percent: percentsByCat[cat]
  })).sort((a,b)=>a.percent - b.percent);

  const weak = items.filter(i => i.percent <= 53);

  let label = "";
  let message = "";

  if (!weak.length){
    label = "–ö–∞–∫ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ?";
    message =
      "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å —Å–µ–π—á–∞—Å –≤—ã–≥–ª—è–¥–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî —Ä–∞–±–æ—Ç–∞ –Ω–∞ –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ: –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω –∏ —Ç–æ—á–µ—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ–¥ –≤–∞—à–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏.";
  } else if (weak.length === 1){
    const w = weak[0];
    label = "–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å —Å—Ñ–µ—Ä—É ¬´" + w.name + "¬ª?";
    message =
      "–°—Ñ–µ—Ä–∞ ¬´" + w.name + "¬ª —Å–µ–π—á–∞—Å –¥–∞—ë—Ç –Ω–∞–∏–±–æ–ª—å—à–∏–π –≤–∫–ª–∞–¥ –≤ –æ—â—É—â–µ–Ω–∏–µ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏. –§–æ–∫—É—Å –Ω–∞ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–±—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö.";
  } else if (weak.length === 2){
    const names = weak.map(w => "¬´" + w.name + "¬ª").join(" –∏ ");
    label = "–ö–∞–∫ —É—Å–∏–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –∑–æ–Ω—ã?";
    message =
      "–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è —Å–µ–π—á–∞—Å —Ç—Ä–µ–±—É—é—Ç " + names + ". –†–∞–±–æ—Ç–∞ —Å —ç—Ç–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –ø–æ–º–æ–∂–µ—Ç –≤—ã—Ä–æ–≤–Ω—è—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∏ —Å–Ω–∏–∑–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ —Å–ª–∞–±—ã—Ö –º–µ—Å—Ç –Ω–∞ –æ–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.";
  } else {
    label = "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?";
    const topNames = weak.slice(0,3).map(w => "‚Ä¢ " + w.name + " (" + w.percent + "%)").join("\n");
    message =
      "–£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–æ–Ω, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–º–µ—Ç–Ω–æ —Å–Ω–∏–∂–∞—é—Ç –æ–±—â–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏. –í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:\n\n" + topNames + "\n\n–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —ç—Ç–∏–º–∏ —Å—Ñ–µ—Ä–∞–º–∏ –ø–æ–º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–º.";
  }

  btn.textContent = label;
  btn.onclick = function(){
    alert(message);
  };
}

// ====== –ü–û–î–ï–õ–ò–¢–¨–°–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–û–ú ======
function shareResults(){
  const canvas = document.getElementById("chart");
  if (!canvas || !canvas.toBlob){
    alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞.");
    return;
  }

  canvas.toBlob(async function(blob){
    if (!blob){
      alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.");
      return;
    }

    const file = new File([blob], "sport-balance-result.png", { type: "image/png" });

    const testUrl = "https://example.com/"; // TODO: –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–µ—Å—Ç–∞
    const shareData = {
      title: "–ö–æ–ª–µ—Å–æ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞",
      text: "–ú–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ç–µ—Å—Ç–µ ¬´–ö–æ–ª–µ—Å–æ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞¬ª. –ü–æ–ø—Ä–æ–±—É–π –∏ —Ç—ã:\n" + testUrl,
      files: [file]
    };

    if (navigator.canShare && navigator.canShare(shareData)){
      try {
        await navigator.share(shareData);
      } catch (e){
        console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª –æ—Ç–ø—Ä–∞–≤–∫—É", e);
      }
    } else {
      if (navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText("–°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–µ—Å—Ç: " + testUrl)
          .then(()=>alert("–í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª, –Ω–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–µ—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ ‚Äî –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—ë –≤—Ä—É—á–Ω—É—é."))
          .catch(()=>alert("–í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª. –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç —ç–∫—Ä–∞–Ω–∞ –∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –∏–º –≤—Ä—É—á–Ω—É—é."));
      } else {
        alert("–í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª. –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç —ç–∫—Ä–∞–Ω–∞ –∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –∏–º –≤—Ä—É—á–Ω—É—é.");
      }
    }
  }, "image/png");
}
